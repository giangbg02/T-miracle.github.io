<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <title>文章</title>
        <base target="_self">
        <meta name="description" content="Tmiracle的静态博客网站，这里记录了编程学习遇到的问题，新接触的知识，以及实用的编程向导航。">
        <meta name="keywords" content="复制链接,Tmiracle,导航,Blog,博客,编程,教程,前端,后端">
        <link rel="icon" href="/statics/images/favicon.ico">
        <link rel="stylesheet" href="/statics/css/common.css?v=1">
        <link rel="stylesheet" href="/statics/APlayer/APlayer.min.css">
        <link rel="stylesheet" href="/statics/layer/theme/default/layer.css">
        <link rel="stylesheet" href="/statics/prism/prism.css">
        <link rel="stylesheet" href="/statics/tocify/jquery.tocify.css">
        <link rel="stylesheet" href="/statics/gitalk/gitalk.css">
        <script type="text/javascript" src="//at.alicdn.com/t/font_1618477_1a3ivvdgudc.js"></script>
    </head>
    <body>
        <canvas id="stars"></canvas>
        <header>
            <div class="website-name">Tmiracle</div>
            <nav>
                <ul>
                    <li><a href="/">首页</a></li>
                    <li><a href="/navigation.html">导航</a></li>
                    <li><a href="/links.html">友链</a></li>
                    <li><a href="/about-me.html">关于我</a></li>
                </ul>
            </nav>
        </header>
        <div class="pjax-container">
            <main>
                <article>
                    <h1><a href="#点击a标签实现复制链接url" id="点击a标签实现复制链接url">点击a标签实现复制链接url</a></h1>
                    <p class="article-info">该文章创建于2019-10-23，最后修改于2019-10-23</p>
                    <pre><code class="html">&lt;body&gt;
    &lt;input type=&quot;hidden&quot; id=&quot;remark1&quot; value=&quot;${remark1}&quot;&gt;
    &lt;input type=&quot;hidden&quot; id=&quot;remark2&quot; value=&quot;${remark2}&quot;&gt;
    &lt;hr&gt;
    &lt;table&gt;
        &lt;tr&gt;
            &lt;td id=&quot;remark&quot;&gt;&lt;/td&gt;
        &lt;/tr&gt;
    &lt;/table&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.4.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script&gt;
        $(function () {
            var remark1 = $(&quot;#remark1&quot;).val();
            var remark2 = $(&quot;#remark2&quot;).val();
            var linkArray = remark2.split(&quot;,&quot;);
            for (var i = 0; i &lt; linkArray.length; i++) {
                console.log(linkArray[i]);
                remark1 = remark1.replace(linkArray[i],
                    &quot;&lt;a onclick='cp(\&quot;&quot; + linkArray[i] + &quot;\&quot;)'&gt;&quot; +
                    &quot;&lt;font color='blue'&gt;&quot; + linkArray[i] +
                    &quot;&lt;/font&gt;&lt;/a&gt;&quot;)
            }
            $(&quot;#remark&quot;).html(remark1);
        });
        //复制到剪切板
        function cp(text) {
            //没有input框，自己造一个，用完销毁
            const input = document.createElement('input');
            document.body.appendChild(input);
            //存入数据
            input.setAttribute('value', text);
            input.select();
            document.execCommand(&quot;Copy&quot;);
            document.body.removeChild(input);
            alert(&quot;已复制该链接~&quot;)
        }
    &lt;/script&gt;
&lt;/body&gt;
</code></pre>
                    <p>查过很多关于execCommand()的讲解，发现在execCommand()方法的定义中提到，它只能操作可编辑区域，也就是意味着除了 input、textarea 这样的输入域以外，是无法使用这个方法的</p>
                    <p>然而，在页面上直接写input和textarea标签，效果并不能达到我们的预期，所以我们在js中自己构造一个临时的input，用完就销毁，这样就不会对页面有过多的干涉了</p>
                </article>
                <hr>
                <div id="gitalk-container"></div>
            </main>
            <div class="aside-btn">
                <div class="btn-line"></div>
                <div class="btn-line"></div>
                <div class="btn-line"></div>
                <div class="btn-line"></div>
                <div class="btn-line"></div>
            </div>
            <aside>
                <div class="fixed-box toc">
                    <h3>目录</h3>
                    <div id="toc"></div>
                </div>
            </aside>
        </div>
        <div id="APlayer"></div>
        <div class="to-top-btn">
            <div class="to-top"></div>
        </div>

        <script src="/statics/JQuery/jquery.js"></script>
        <script src="/statics/js/stars.js"></script>
        <script src="/statics/Pjax/jquery.pjax.js"></script>
        <script src="/statics/layer/layer.js"></script>
        <script src="/statics/MD5/md5.min.js"></script>
        <script src="/statics/gitalk/gitalk.min.js"></script>
        <script src="/statics/prism/prism.js"></script>
        <script src="/statics/tocify/jquery-ui-1.9.1.custom.min.js"></script>
        <script src="/statics/tocify/jquery.tocify.js"></script>
        <script src="/statics/js/common.js?v=202003202243"></script>
        <script src="/statics/APlayer/APlayer.min.js"></script>
        <script src="/statics/APlayer/APlayer-music-list.js?v=20200322"></script>
    </body>
</html>